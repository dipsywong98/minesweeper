{"version":3,"sources":["assets/checked.png","assets/smile.png","assets/question.png","assets/dead.png","assets/win.png","assets/ohh.png","assets/empty.png","assets/open1.png","assets/open2.png","assets/open3.png","assets/open4.png","assets/open5.png","assets/open6.png","assets/open7.png","assets/open8.png","assets/flag.png","assets/mine-ceil.png","assets/mine-death.png","assets/misflagged.png","assets/digit0.png","assets/digit1.png","assets/digit2.png","assets/digit3.png","assets/digit4.png","assets/digit5.png","assets/digit6.png","assets/digit7.png","assets/digit8.png","assets/digit9.png","assets/digit-.png","Minesweeper/config.js","Minesweeper/helper.js","Minesweeper/MinesweeperView.js","Minesweeper/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Config","Beginner","rows","columns","ceils","mines","Intermediate","Expert","Create","getNearIndexes","index","row","Math","floor","column","filter","_","arrayIndex","includes","serialize","cols","flags","map","_ref","state","join","LZUTF8","compress","outputEncoding","deserialize","packed","_LZUTF8$decompress$sp","decompress","inputEncoding","split","_LZUTF8$decompress$sp2","Object","slicedToArray","rowsS","colsS","Number","parseInt","mineK","flag","k","push","minesAround","forEach","nearIndex","length","digits","digit0","digit1","digit2","digit3","digit4","digit5","digit6","digit7","digit8","digit9","renderDigits","number","numberStr","_number","String","react_default","a","createElement","Fragment","src","digit_","alt","n","i","key","Ceils","_ref2","onMouseDown","onMouseEnter","ceil","e","className","opening","MinesweeperView_MinesAround","MinesweeperView_Flag","MinesweeperView_MisFlagged","MinesweeperView_Mine","MinesweeperView_Die","MinesweeperView_QuestionOpen","MinesweeperView_Question","CeilBackgroundOpen","CeilBackgroundCover","renderContent","Die","mineDeath","MisFlagged","misFlagged","Flag","MinesAround","_ref3","empty","open1","open2","open3","open4","open5","open6","open7","open8","Question","question","QuestionOpen","Mine","mine","styled","div","_templateObject","_templateObject2","changeCeilState","onReset","openCeil","openCeils","editCeil","status","seconds","onClose","difficulty","openingCeil","openingCeils","sameTouchPos","lastTouch","face","useRef","dropDown","topBar","_useState","useState","_useState2","mouseDownContent","setMouseDownContent","_useState3","_useState4","openOption","setOpenOption","_useState5","behavior","_useState6","openBehavior","setOpenBehavior","hoverOption","option","onMouseUp","current","contains","target","onTouchEndDropdown","useEffect","window","addEventListener","removeEventListener","exportGame","prompt","location","origin","pathname","onContextMenu","preventDefault","ref","style","visibility","onTouchStart","checked","href","onMouseOver","button","onClick","ohh","dead","win","smile","statusFace","onTouchEnd","Array","prototype","indexOf","call","currentTarget","children","closest","Date","buttons","console","log","_templateObject3","_ref4","platform","_ref5","_ref6","_ref7","getInitState","arguments","undefined","objectSpread","config","fill","genGameConfig","reducer","action","type","payload","exclude","originCeils","hash","Error","indexArray","toConsumableArray","keys","sampleSize","chosen","replace","insertMines","indexes","walked","walkCeils","concat","reduce","lastIndexes","ceilIndex","autoCeils","newState","_action$payload","MineSweeper","defaultDifficulty","_useReducer","useReducer","_useReducer2","dispatch","setSeconds","addSecond","sec","timer","setInterval","clearInterval","useTimer","MinesweeperView","assign","mineIndex","find","App","_React$useState","React","innerWidth","_React$useState2","setPlatform","_React$useState3","_React$useState4","setLastTouch","_React$useState5","_React$useState6","samePos","setSamePos","onResize","touchStart","touchMove","display","justifyContent","alignItems","height","transform","transformOrigin","Minesweeper","Boolean","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ff60dcdb.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAI0lEQVR42mNgwA3+45P4j03Ff3TJ/9gk0AX+Y7MLpwRO1wEA1lcU7C7/FKUAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAVElEQVR42mNgwA3+Y8FEA7CG//8xMbGGYdWMwzDyDcBnEEkG4DIIq9+JFMPuCmINQTaILK8MEUMIGUp04OJLsURHMVoSJxgzVE2xVMs7VMvFZJUnADl0GwKMOgB1AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALElEQVR42mNgGNbgPxomSzMuPu0NIGTgENFMFQOolhYGuxf27t37f2A0AwEAQr8eVaRMnxsAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAWklEQVR42mNgwA3+Y8FEA7CG//8xMbGGYdWMwzDyDcBnEIokMo1PHN0grBqw2Y7LNQRtJCROcljgCptBbgi2FEsoqimOHazpBJ/ziUpwdEn6RGVCSnMxWeUJAHw0FwbXaXdOAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAZ0lEQVR42q2U0Q4AEAhF+28fn/FgmXuT0taD7B5SEeGmwMM2BaqnR2FQTGB5gAd6AjAQyps6grgAL25Ba4EEXmyDWHJr52kWNPZRyVOPCtOpQgRdnQlCJb5V6mvDlVs/NITVKU79Jx0lUucVtHPCpwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAbklEQVR42rWUgQ7AEAxEfbo/77ItXcTuziEkjWj14ahSeAtgdnsSIv7mwmAyga0DFOgL1vpOuPs2Cfl7EDo30wNChisqf4KmtGDanIUwfWxIapATey2G4mZQjeUVz+xEPjhHk+2nbxXhbhUv/ScXq9MFJP/q1DsAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVR42mNgAAIAAAUAAen63NgAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAK0lEQVR42mNgGAng/38IpkgzWQYgaybZAHTNA+OFIW4AtkAkySCKDRhKAAB8jU+x6ZwbNAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAL0lEQVR42mNgGIagmuE/XkyRZoKG4FNEtCvIMZwkb1EUmLTVSJFzaRKNZCemIQcA2OFf+6sS8JAAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAK0lEQVR42mNgGF7gPxARwhQbQNAQYgynjwEUO5+q/qdfGFAcjTRLA4MbAACQL3uF13XmMAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAJ0lEQVR42mNgGK6g+j8CY+PT1gBsiulnALJCfJh2BpDirZFmwGAGAE2EUrFtzr/cAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAJklEQVR42mNgGF6gmoHhPzGYPgZQ7AWahQFtA5Fu3hvYdMAw/AAAgjlnXUQq77YAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAKklEQVR42mNgGIaguvo/XkyRZpIMoNj5NPE/VcIAryH4FNHfAJqFw/ADANeOjOlonwSHAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAHklEQVR42mNgGHbgP5GYdgYQazj9DRi1fSCjbggAADl0K9Xj0B5TAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALElEQVR42mNgGH6gurr6Pz5MkWaChuBTRB8DKA4DqgbiwIQBxdFIlUAcegAAKVC5Qc8U50QAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAL0lEQVR42mNgGN7gPxD9B1NkaiTLAHTN9HcBVcIA05wBMuA/GiZbI8kGUWzAEAMA9m03yW7foZAAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAN0lEQVR42mNgGArgP90N+I9Eo2OiDfyPBxOnGQbIMYRsA/6Tgck2iOwA/E+3WKA4HQxsUiYJAAAf1lyk4ulhiwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAQ0lEQVR42mNgoAb4D0TkYoIGMNDdAAYkGh1jMxCrCxjwYKJcAFYIBYQMoZ4BDGRgvC4gNhyobwBVYoHidDCwSZlUDABNhnuTt8N6swAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAVklEQVR42tVSQQ4AIAjy/5+mdfBQoTJbh9g8BaSi2Q+AygI4GTJ3ewCp7KPD5KhS7B5OnCBiKEtbBKSrWMhajkYqjRKDNyOkSagJ3MUYENC5wt4pdzAAjVmTbVcYf78AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAT0lEQVR42mNgYGD4TwaGMP4TgVE0/SdCIwOqRkwJXBqwavqPww//R5omfBGKVRNMshoHjRFPhDRUY0tGZNlEtp9GUwQl+YnknEtWGUEqBgCfOaw1/D0TFAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAASUlEQVR42mNgYGD4TwZGcKoJ0CiaqonQCML/0W3CpxGm4T82m6px+OE/Nk34NODUNMRtwht6JMfTwKQIkvw0miIoyU+0TxGkYgAPeGy3U1240gAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAWklEQVR42t2SMQ7AIAwD/W8/3h0YKii4SZhgsJTldEpiAFAhbVAgHcQAiB5sgwPxtb0AFztoBjlgCR1ustdL/yndCAVNHCH97MSZyYF0Jl1oQuzcG38qNSKbB3/NoALNu9QgAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAASUlEQVR42mNgYGD4TwaGMP4TgVE0VROhkQFVI4SBTyMDpm0IDdU4/PAfmyZ8GnBqGuI24Q09kuOJ/imCZD+NpghK8hPtUwSpGACCn6ACoxe3NgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAW0lEQVR42uWUOw4AIAhDuXcPXwcHIkF+ow6NwfBsUFBEhANpgGQ9IBZAk7eDCHRydIOXGvgbFD2oC9kT6TjQdgQLOjoCUyd0a0ICureXOfEBp9I8YTK5oz+iqwUjhY35eHHgggAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAWklEQVR42tWSSQrAMAwD9W89fkrpKab1EnrJQWAIw6DYksRGnoFGFogGeL87QhkYgBXio4MzE0n5U02amsZ72roIN01Ek4tORMgFyBtUmTjclH03v+xpfBHTXH/NoALFMh2nAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAUklEQVR42uWSwQoAIAhD9999/IvolJBm0SE6DAR5jDkliQ31gQUNEAtg2xcLeaABRohJhuI54YR/1UlZp3RPVz+CbCZmEAHwDaTg3Bz3tPURWVX6Rq8pbI7sgQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAU0lEQVR42mNgYGD4TwaGMP4TgVE0VROhkQFVI4SBTyMDpm0IDdU4/PAfmyZ8GnBqGuI24Q09bLZWo2lEsQmfhmpsyYhsm8j202iKIBDsA5wiSMUAOd99T+GP8TIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAQklEQVR42mNgYGD4TwaGMP4TgVE0/SdCIwOqRkwJXBqwavqPww//R5omfBGKVRPJ8TQwKYIkP42mCEryE31SBKkYANgvvlDAiYGMAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAUUlEQVR42mNgYGD4TwaGMP4TgVE0/SdCIwOqRkwJXBqwavqPww//R5omfBGKVRPJ8URWiqgm16ZqUv1UTUAj1tAjZNP/IW4T0fmpmm4pglQMAF22ryk/sMoKAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAASElEQVR42mNgYGD4TwZGcKoJ0CiaqonQiMbGLYlDA6pN1Tj8UE2MTfg0jgib/uPBWG36TwSmjk2j8UQtm0jKTyTnXJLLCFIxAO0rYITcR7oGAAAAAElFTkSuQmCC\"","export const Config = {\n  Beginner: {\n    rows: 9,\n    columns: 9,\n    ceils: 81,\n    mines: 10,\n  },\n  Intermediate: {\n    rows: 16,\n    columns: 16,\n    ceils: 256,\n    mines: 40,\n  },\n  Expert: {\n    rows: 16,\n    columns: 30,\n    ceils: 480,\n    mines: 99,\n  },\n  Create: {\n    rows: 16,\n    columns: 30,\n    ceils: 480,\n    mines: 0,\n  }\n};\n","import LZUTF8 from 'lzutf8'\n\nexport function getNearIndexes(index, rows, columns) {\n  if (index < 0 || index >= rows * columns) return []\n  const row = Math.floor(index / columns)\n  const column = index % columns\n  return [\n    index - columns - 1,\n    index - columns,\n    index - columns + 1,\n    index - 1,\n    index + 1,\n    index + columns - 1,\n    index + columns,\n    index + columns + 1,\n  ].filter((_, arrayIndex) => {\n    if (row === 0 && arrayIndex < 3) return false\n    if (row === rows - 1 && arrayIndex > 4) return false\n    if (column === 0 && [0, 3, 5].includes(arrayIndex)) return false\n    if (column === columns - 1 && [2, 4, 7].includes(arrayIndex)) return false\n    return true\n  })\n}\n\n//   ceils: Array {\n//     state: 'cover' || 'flag' || 'unknown' || 'open' || 'die' || 'misflagged' || 'mine',\n//     minesAround: Number (negative for mine itself),\n//     opening: true || false\n//   }\nexport const serialize = (rows, cols, ceils) => {\n  const flags = ceils.map(({ state }) => state === 'mine' ? '1' : '0').join('')\n  return LZUTF8.compress([rows, cols, flags].join(','), { outputEncoding: 'Base64' })\n}\n\nexport const deserialize = packed => {\n  const [rowsS, colsS, flags] = LZUTF8.decompress(packed, { inputEncoding: 'Base64' }).split(',')\n  const rows = Number.parseInt(rowsS)\n  const cols = Number.parseInt(colsS)\n  const mineK = []\n  const ceils = flags.split('').map((flag, k) => {\n    if (flag === '1') {\n      mineK.push(k)\n    }\n    return {\n      state: 'cover',\n      minesAround: flag === '1' ? -10 : 0\n    }\n  })\n  mineK.forEach(k => {\n    getNearIndexes(k, rows, cols).forEach(nearIndex => {\n      ceils[nearIndex].minesAround += 1\n    })\n  })\n  return {\n    rows,\n    columns: cols,\n    ceils,\n    mines: mineK.length\n  }\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport dead from '../assets/dead.png';\nimport smile from '../assets/smile.png';\nimport win from '../assets/win.png';\nimport ohh from '../assets/ohh.png';\nimport empty from '../assets/empty.png';\nimport open1 from '../assets/open1.png';\nimport open2 from '../assets/open2.png';\nimport open3 from '../assets/open3.png';\nimport open4 from '../assets/open4.png';\nimport open5 from '../assets/open5.png';\nimport open6 from '../assets/open6.png';\nimport open7 from '../assets/open7.png';\nimport open8 from '../assets/open8.png';\nimport flag from '../assets/flag.png';\nimport mine from '../assets/mine-ceil.png';\nimport mineDeath from '../assets/mine-death.png';\nimport misFlagged from '../assets/misflagged.png';\nimport question from '../assets/question.png';\nimport checked from '../assets/checked.png';\nimport digit0 from '../assets/digit0.png';\nimport digit1 from '../assets/digit1.png';\nimport digit2 from '../assets/digit2.png';\nimport digit3 from '../assets/digit3.png';\nimport digit4 from '../assets/digit4.png';\nimport digit5 from '../assets/digit5.png';\nimport digit6 from '../assets/digit6.png';\nimport digit7 from '../assets/digit7.png';\nimport digit8 from '../assets/digit8.png';\nimport digit9 from '../assets/digit9.png';\nimport digit_ from '../assets/digit-.png';\nimport { serialize } from './helper'\n\nconst digits = [\n  digit0,\n  digit1,\n  digit2,\n  digit3,\n  digit4,\n  digit5,\n  digit6,\n  digit7,\n  digit8,\n  digit9,\n];\nfunction renderDigits(number) {\n  let numberStr;\n  if (number < 0) {\n    const _number = -number % 100;\n    if (_number === 0) {\n      numberStr = '00';\n    } else if (_number < 10) {\n      numberStr = '0' + _number;\n    } else {\n      numberStr = String(_number);\n    }\n    return (\n      <>\n        <img src={digit_} alt=\"-\" />\n        {numberStr.split('').map((n, i) => (\n          <img src={digits[n]} key={i} alt={n} />\n        ))}\n      </>\n    );\n  }\n\n  numberStr = number < 999 ? String(number) : '999';\n  if (number < 10) numberStr = '00' + numberStr;\n  else if (number < 100) numberStr = '0' + numberStr;\n  return numberStr\n    .split('')\n    .map((n, i) => <img key={i} src={digits[n]} alt={n} />);\n}\n\nfunction MineSweeperView({\n  rows,\n  columns,\n  ceils,\n  className,\n  changeCeilState,\n  onReset,\n  openCeil,\n  openCeils,\n  editCeil,\n  mines,\n  status,\n  seconds,\n  onClose,\n  difficulty,\n  openingCeil,\n  openingCeils,\n  sameTouchPos,\n  lastTouch,\n}) {\n  const face = useRef(null);\n  const dropDown = useRef(null);\n  const topBar = useRef(null);\n  const [mouseDownContent, setMouseDownContent] = useState(false);\n  const [openOption, setOpenOption] = useState(null);\n  const [openBehavior, setOpenBehavior] = useState({ index: -1, behavior: '' });\n  function remainMines() {\n    return (\n      mines -\n      ceils.filter(ceil => ceil.state === 'flag' || ceil.state === 'misflagged')\n        .length\n    );\n  }\n  function statusFace() {\n    if (mouseDownContent) return <img alt=\"ohh\" src={ohh} />;\n    switch (status) {\n      case 'died':\n        return <img alt=\"dead\" src={dead} />;\n      case 'won':\n        return <img alt=\"win\" src={win} />;\n      default:\n        return <img alt=\"smile\" src={smile} />;\n    }\n  }\n  function onMouseDownContent(e) {\n    if (e.button !== 0) return;\n    if (\n      face.current.contains(e.target) ||\n      status === 'won' ||\n      status === 'died'\n    )\n      return;\n    setMouseDownContent(true);\n  }\n  useEffect(() => {\n    const { index, behavior } = openBehavior;\n    switch (behavior) {\n      case 'single':\n        return openingCeil(index);\n      case 'multi':\n        return openingCeils(index);\n      case 'set-mine':\n        return editCeil(index, true)\n      case 'reset-mine':\n        return editCeil(index, false)\n      default:\n        openingCeil(-1);\n    }\n  }, [openBehavior.index, openBehavior.behavior]);\n  function onMouseDownCeils(e, index) {\n    if(['Beginner', 'Intermediate', 'Expert'].includes(difficulty)) {\n      if (e.button === 2 && e.buttons === 2 && index !== -1) {\n        changeCeilState(index);\n      } else if (e.button === 0 && e.buttons === 1) {\n        setOpenBehavior({\n          index,\n          behavior: 'single',\n        });\n      } else if (e.buttons === 3 || e.buttons === 4) {\n        setOpenBehavior({\n          index,\n          behavior: 'multi',\n        });\n      }\n    } else {\n      console.log(e.buttons)\n      if (e.buttons === 1) {\n        setOpenBehavior({\n          index,\n          behavior: 'set-mine',\n        });\n      } else if (e.buttons === 2) {\n        setOpenBehavior({\n          index,\n          behavior: 'reset-mine',\n        });\n      }\n    }\n  }\n  function onMouseOverCeils(index) {\n    setOpenBehavior({\n      index,\n      behavior: openBehavior.behavior,\n    });\n  }\n  function onMouseUpCeils() {\n    const { behavior, index } = openBehavior;\n    if (index === -1) return;\n    if (behavior === 'single') {\n      openCeil(index);\n    } else if (behavior === 'multi') {\n      openCeils(index);\n    }\n  }\n  function hoverOption(option) {\n    if (openOption) setOpenOption(option);\n  }\n  function onMouseUp(e) {\n    setOpenBehavior({ index: -1, behavior: '' });\n    setMouseDownContent(false);\n    if (!dropDown.current.contains(e.target)) setOpenOption('');\n  }\n  function onTouchEndDropdown(e) {\n    if (\n      !dropDown.current.contains(e.target) &&\n      !topBar.current.contains(e.target)\n    )\n      setOpenOption('');\n  }\n  function onTouchEndCeils(e) {\n    const index = Array.prototype.indexOf.call(\n      e.currentTarget.children,\n      e.target.closest('.mine__ceil'),\n    );\n    if (index === -1 || !sameTouchPos) return;\n    if (new Date() - lastTouch < 150) {\n      if (ceils[index].state === 'open') {\n        openCeils(index);\n      } else {\n        openCeil(index);\n      }\n    } else {\n      changeCeilState(index);\n    }\n  }\n  useEffect(() => {\n    window.addEventListener('touchend', onTouchEndDropdown);\n    window.addEventListener('mouseup', onMouseUp);\n    return () => {\n      window.removeEventListener('mouseup', onMouseUp);\n      window.removeEventListener('touchend', onTouchEndDropdown);\n    };\n  }, []);\n  const exportGame = () => {\n    window.prompt('Copy the below url to share your level', window.location.origin + window.location.pathname + '#' + serialize(rows, columns, ceils))\n  }\n  return (\n    <div className={className} onContextMenu={e => e.preventDefault()}>\n      <div className=\"mine__drop-downs\" ref={dropDown}>\n        <div\n          style={{ visibility: openOption === 'Game' ? 'visible' : 'hidden' }}\n          className=\"mine__drop-down\"\n        >\n          <div className=\"mine__drop-down__title\">Game</div>\n          <div className=\"mine__drop-down__menu\">\n            <div className=\"mine__drop-down__row\" onMouseUp={() => onReset()}>\n              <div className=\"mine__drop-down__check\" />\n              <div className=\"mine__drop-down__text\">New</div>\n              <span className=\"mine__drop-down__hot-key\">F2</span>\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div className=\"mine__drop-down__separator\" />\n            <div\n              className=\"mine__drop-down__row\"\n              onMouseUp={() => onReset('Beginner')}\n              onTouchStart={() => onReset('Beginner')}\n            >\n              <div className=\"mine__drop-down__check\">\n                {difficulty === 'Beginner' && (\n                  <img src={checked} alt=\"checked\" />\n                )}\n              </div>\n              <span>Beginner</span>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div\n              className=\"mine__drop-down__row\"\n              onMouseUp={() => onReset('Intermediate')}\n              onTouchStart={() => onReset('Intermediate')}\n            >\n              <div className=\"mine__drop-down__check\">\n                {difficulty === 'Intermediate' && (\n                  <img src={checked} alt=\"checked\" />\n                )}\n              </div>\n              <span>Intermediate</span>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div\n              className=\"mine__drop-down__row\"\n              onMouseUp={() => onReset('Expert')}\n              onTouchStart={() => onReset('Expert')}\n            >\n              <div className=\"mine__drop-down__check\">\n                {difficulty === 'Expert' && <img src={checked} alt=\"checked\" />}\n              </div>\n              <span>Expert</span>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div\n              className=\"mine__drop-down__row\"\n              onMouseUp={() => onReset('Create')}\n              onTouchStart={() => onReset('Create')}\n            >\n              <div className=\"mine__drop-down__check\">\n                {difficulty === 'Create' && <img src={checked} alt=\"checked\" />}\n              </div>\n              <span>Create</span>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div className=\"mine__drop-down__row\">\n              <div className=\"mine__drop-down__check\" />\n              <span>Custom...</span>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div className=\"mine__drop-down__separator\" />\n            <div className=\"mine__drop-down__row\">\n              <div className=\"mine__drop-down__check\">\n                <img src={checked} alt=\"checked\" />\n              </div>\n              <span>Marks (?)</span>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div className=\"mine__drop-down__row\">\n              <div className=\"mine__drop-down__check\">\n                <img src={checked} alt=\"checked\" />\n              </div>\n              <span>Color</span>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div className=\"mine__drop-down__row\">\n              <div className=\"mine__drop-down__check\" />\n              <span>Sound</span>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div className=\"mine__drop-down__separator\" />\n            <div\n              className=\"mine__drop-down__row\"\n              onMouseUp={() => exportGame()}\n              onTouchStart={() => exportGame()}\n            >\n              <div className=\"mine__drop-down__check\" />\n              <span>Export</span>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div className=\"mine__drop-down__row\">\n              <div className=\"mine__drop-down__check\" />\n              <span>Best Times...</span>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div className=\"mine__drop-down__separator\" />\n\n            <div className=\"mine__drop-down__row\" onMouseUp={onClose}>\n              <div className=\"mine__drop-down__check\" />\n              <span>Exit</span>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n          </div>\n        </div>\n        <div\n          style={{ visibility: openOption === 'Help' ? 'visible' : 'hidden' }}\n          className=\"mine__drop-down\"\n        >\n          <div className=\"mine__drop-down__title\">Help</div>\n          <div className=\"mine__drop-down__menu\">\n            <div className=\"mine__drop-down__row\">\n              <div className=\"mine__drop-down__check\" />\n              <div className=\"mine__drop-down__text\">Contents</div>\n              <span className=\"mine__drop-down__hot-key\">F1</span>\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div className=\"mine__drop-down__row\">\n              <div className=\"mine__drop-down__check\" />\n              <div className=\"mine__drop-down__text\">Search for Help on...</div>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div className=\"mine__drop-down__row\">\n              <div className=\"mine__drop-down__check\" />\n              <div className=\"mine__drop-down__text\">Using Help</div>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div className=\"mine__drop-down__separator\" />\n            <div className=\"mine__drop-down__row\">\n              <div className=\"mine__drop-down__check\" />\n              <div className=\"mine__drop-down__text\">About Minesweeper...</div>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n            <div className=\"mine__drop-down__row\">\n              <div className=\"mine__drop-down__check\" />\n              <a\n                className=\"mine__drop-down__text\"\n                href=\"https://github.com/ShizukuIchi/minesweeper\"\n              >\n                Github\n              </a>\n              <span className=\"mine__drop-down__hot-key\" />\n              <div className=\"mine__drop-down__arrow\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"mine__top-bar\" ref={topBar}>\n        <div\n          onMouseDown={() => setOpenOption('Game')}\n          onTouchStart={() => setOpenOption(openOption ? '' : 'Game')}\n          onMouseOver={() => hoverOption('Game')}\n          className=\"mine__top-bar__text\"\n        >\n          Game\n        </div>\n        <div\n          onMouseDown={() => setOpenOption('Help')}\n          onTouchStart={() => setOpenOption(openOption ? '' : 'Help')}\n          onMouseOver={() => hoverOption('Help')}\n          className=\"mine__top-bar__text\"\n        >\n          Help\n        </div>\n      </div>\n      <section className=\"mine__content\" onMouseDown={onMouseDownContent}>\n        <div className=\"mine__score-bar\">\n          <div className=\"mine__digits__outer\">\n            {renderDigits(remainMines())}\n          </div>\n          <div className=\"mine__face__outer\">\n            <button ref={face} className=\"mine__face\" onClick={() => onReset()}>\n              {statusFace()}\n              <img alt=\"smile\" src={smile} />\n            </button>\n          </div>\n          <div className=\"mine__digits__outer\">{renderDigits(seconds)}</div>\n        </div>\n        <div\n          className=\"mine__content__inner\"\n          onTouchEnd={onTouchEndCeils}\n          onMouseUp={onMouseUpCeils}\n        >\n          <Ceils\n            ceils={ceils}\n            onMouseDown={onMouseDownCeils}\n            onMouseEnter={onMouseOverCeils}\n          />\n        </div>\n      </section>\n    </div>\n  );\n}\nfunction getTextImg(index) {\n  return [empty, open1, open2, open3, open4, open5, open6, open7, open8][index];\n}\nfunction Ceils({ ceils, onMouseDown, onMouseEnter }) {\n  function renderContent(ceil) {\n    const { state, minesAround, opening } = ceil;\n    switch (state) {\n      case 'open':\n        return <MinesAround mines={minesAround} />;\n      case 'flag':\n        return <Flag />;\n      case 'misflagged':\n        return <MisFlagged />;\n      case 'mine':\n        return <Mine />;\n      case 'die':\n        return <Die />;\n      case 'unknown':\n        return opening ? <QuestionOpen /> : <Question />;\n      default:\n        return opening ? <CeilBackgroundOpen /> : <CeilBackgroundCover />;\n    }\n  }\n\n  return ceils.map((ceil, index) => (\n    <div\n      key={index}\n      onMouseEnter={() => onMouseEnter(index)}\n      onMouseDown={e => onMouseDown(e, index)}\n      className=\"mine__ceil\"\n      index={index}\n    >\n      {renderContent(ceil)}\n    </div>\n  ));\n}\n\nconst Die = () => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"death\" src={mineDeath} />\n  </>\n);\nconst MisFlagged = () => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"misFlagged\" src={misFlagged} />\n  </>\n);\nconst Flag = () => (\n  <>\n    <CeilBackgroundCover />\n    <img alt=\"flag\" src={flag} />\n  </>\n);\nconst MinesAround = ({ mines }) => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"mines-around\" src={getTextImg(mines)} />\n  </>\n);\nconst Question = () => (\n  <>\n    <CeilBackgroundCover />\n    <img alt=\"question\" src={question} />\n  </>\n);\nconst QuestionOpen = () => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"question\" src={question} />\n  </>\n);\nconst Mine = () => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"mine\" src={mine} />\n  </>\n);\n\nconst CeilBackgroundCover = styled.div`\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border-left: rgb(245, 245, 245) solid 2px;\n  border-top: rgb(245, 245, 245) solid 2px;\n  border-right: rgb(128, 128, 128) solid 2px;\n  border-bottom: rgb(128, 128, 128) solid 2px;\n`;\nconst CeilBackgroundOpen = styled.div`\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border-left: rgb(128, 128, 128) solid 1px;\n  border-top: rgb(128, 128, 128) solid 1px;\n`;\n\nexport default styled(MineSweeperView)`\n  display: inline-block;\n  img {\n    pointer-events: none;\n  }\n  .mine__drop-downs {\n    position: absolute;\n    display: flex;\n    height: 20px;\n  }\n  .mine__drop-down {\n    position: relative;\n    z-index: 1;\n  }\n  .mine__drop-down__title {\n    padding: 0 5px;\n    height: 100%;\n    line-height: 20px;\n    font-size: 11px;\n    color: white;\n    background-color: #1660e8;\n  }\n  .mine__drop-down__menu {\n    background-color: white;\n    position: absolute;\n    box-shadow: 2px 2px 1px rgb(100, 100, 100);\n    border: 1px solid gray;\n    padding: 2px;\n    display: grid;\n    grid-template-columns: 18px auto auto 15px;\n    line-height: 18px;\n    font-size: 11px;\n  }\n  .mine__drop-down__row {\n    display: contents;\n    &:hover > * {\n      background: #e99f17;\n      filter: invert(100%);\n    }\n  }\n  .mine__drop-down__separator {\n    grid-column: 1 / 5;\n    height: 1px;\n    background-color: gray;\n    margin: 3px 1px;\n  }\n  .mine__drop-down__check {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .mine__drop-down__arrow {\n  }\n  .mine__drop-down__hot-key {\n    padding-left: 5px;\n  }\n  .mine__drop-down__text {\n    white-space: nowrap;\n  }\n  .mine__top-bar {\n    position: relative;\n    display: flex;\n    height: 20px;\n    background-color: rgb(236, 233, 216);\n  }\n  .mine__top-bar__text {\n    padding: 0 5px;\n    height: 100%;\n    line-height: 20px;\n    font-size: 11px;\n    &:hover {\n      color: ${({ platform }) => (platform === 'desktop' ? '#FFF' : '#000')};\n      background-color: ${({ platform }) =>\n        platform === 'desktop' ? '#0b61ff' : 'transparent'};\n    }\n  }\n  .mine__content {\n    border-left: rgb(245, 245, 245) solid 3px;\n    border-top: rgb(245, 245, 245) solid 3px;\n    background-color: rgb(192, 192, 192);\n    padding: 5px;\n  }\n  .mine__score-bar {\n    height: 34px;\n    border-radius: 1px;\n    border-top: rgb(128, 128, 128) solid 2px;\n    border-left: rgb(128, 128, 128) solid 2px;\n    border-right: rgb(245, 245, 245) solid 2px;\n    border-bottom: rgb(245, 245, 245) solid 2px;\n    margin-bottom: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 3px 7px 3px 4px;\n  }\n  .mine__digits__outer {\n    width: 40px;\n    height: 24px;\n    border-width: 0 1px 1px 0;\n    border-style: solid;\n    border-color: #fff;\n    text-align: right;\n  }\n  .mine__face__outer {\n    width: 24px;\n    height: 24px;\n    border-top: 1px solid rgb(128, 128, 128);\n    border-left: 1px solid rgb(128, 128, 128);\n    border-radius: 2px;\n    transform: translateX(1px);\n  }\n  .mine__face {\n    border-radius: 2px;\n    height: 100%;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: rgb(192, 192, 192);\n    border-width: 2px;\n    border-style: solid;\n    border-color: rgb(245, 245, 245) rgb(128, 128, 128) rgb(128, 128, 128)\n      rgb(245, 245, 245);\n    outline: none;\n    &:active:hover {\n      border-width: 1px;\n      border-color: rgb(128, 128, 128);\n      img {\n        transform: translate(1px, 1px);\n      }\n      img:nth-child(1) {\n        display: none;\n      }\n      img:nth-child(2) {\n        display: block;\n      }\n    }\n    img:nth-child(2) {\n      display: none;\n    }\n  }\n  .mine__content__inner {\n    display: grid;\n    grid-template-columns: repeat(${({ columns }) => columns}, 16px);\n    grid-template-rows: repeat(${({ rows }) => rows}, 16px);\n    border-top: rgb(128, 128, 128) solid 3px;\n    border-left: rgb(128, 128, 128) solid 3px;\n    border-right: rgb(245, 245, 245) solid 3px;\n    border-bottom: rgb(245, 245, 245) solid 3px;\n  }\n  .mine__ceil {\n    position: relative;\n    img {\n      position: absolute;\n      width: 16px;\n      height: 16px;\n    }\n  }\n`;\n","import React, { useReducer, useEffect, useState } from 'react'\nimport sampleSize from 'lodash.samplesize'\n\nimport { Config } from './config'\nimport MinesweeperView from './MinesweeperView'\nimport { deserialize, getNearIndexes } from './helper'\n\n// state: {\n//   difficulty: 'Beginner' || 'Intermediate' || 'Expert' || 'Create',\n//   status: 'new' || 'started' || 'died' || 'won',\n//   rows: Number,\n//   columns: Number,\n//   mines: Number,\n//   ceils: Array {\n//     state: 'cover' || 'flag' || 'unknown' || 'open' || 'die' || 'misflagged',\n//     minesAround: Number (negative for mine itself),\n//     opening: true || false\n//   }\n// }\n\nfunction getInitState(difficulty = 'Beginner') {\n  return {\n    difficulty,\n    status: 'new',\n    ...genGameConfig(Config[difficulty]),\n  }\n}\n\nfunction reducer(state, action = {}) {\n  switch (action.type) {\n    case 'CLEAR_MAP':\n      const difficulty = action.payload || state.difficulty\n      return getInitState(difficulty)\n    case 'START_GAME':\n      const exclude = action.payload\n      return {\n        ...state,\n        ...insertMines({ ...Config[state.difficulty], exclude }, state.ceils),\n        status: 'started',\n      }\n    case 'OPEN_CEIL': {\n      const indexes = autoCeils(state, action.payload)\n      const ceils = [...state.ceils]\n      indexes.forEach(i => {\n        const ceil = ceils[i]\n        ceils[i] = { ...ceil, state: 'open' }\n      })\n      return {\n        ...state,\n        ceils,\n      }\n    }\n    case 'CHANGE_CEIL_STATE': {\n      const index = action.payload\n      const ceils = [...state.ceils]\n      const ceil = state.ceils[index]\n      let newState\n      switch (ceil.state) {\n        case 'cover':\n          newState = 'flag'\n          break\n        case 'flag':\n          newState = 'unknown'\n          break\n        case 'unknown':\n          newState = 'cover'\n          break\n        default:\n          throw new Error(`Unknown ceil state ${ceil.state}`)\n      }\n      ceils[index] = { ...ceil, state: newState }\n      return {\n        ...state,\n        ceils,\n      }\n    }\n    case 'GAME_OVER': {\n      const ceils = state.ceils.map(ceil => {\n        if (ceil.minesAround < 0 && ceil.state !== 'flag') {\n          return {\n            ...ceil,\n            state: 'mine',\n          }\n        } else if (ceil.state === 'flag' && ceil.minesAround >= 0) {\n          return {\n            ...ceil,\n            state: 'misflagged',\n          }\n        } else {\n          return {\n            ...ceil,\n            opening: false,\n          }\n        }\n      })\n      ceils[action.payload].state = 'die'\n      return {\n        ...state,\n        status: 'died',\n        ceils,\n      }\n    }\n    case 'WON': {\n      const ceils = state.ceils.map(ceil => {\n        if (ceil.minesAround >= 0) {\n          return {\n            ...ceil,\n            state: 'open',\n          }\n        } else {\n          return {\n            ...ceil,\n            state: 'flag',\n          }\n        }\n      })\n      return {\n        ...state,\n        status: 'won',\n        ceils,\n      }\n    }\n    case 'OPENING_CEIL': {\n      const ceil = state.ceils[action.payload]\n      const ceils = state.ceils.map(ceil => ({\n        ...ceil,\n        opening: false,\n      }))\n      ceils[action.payload] = { ...ceil, opening: true }\n      return {\n        ...state,\n        ceils,\n      }\n    }\n    case 'EDIT_CEIL': {\n      const {index, flag} = action.payload\n      const ceil = state.ceils[index]\n      const ceils = state.ceils.map(ceil => ({\n        ...ceil\n      }))\n      ceils[index] = {\n        ...ceil,\n        minesAround: flag ? -10 : 0,\n        state: flag ? 'mine' : 'cover'\n      }\n      return {\n        ...state,\n        ceils,\n      }\n    }\n    case 'OPENING_CEILS': {\n      const indexes = getNearIndexes(action.payload, state.rows, state.columns)\n      const ceils = state.ceils.map(ceil => ({\n        ...ceil,\n        opening: false,\n      }));\n      [...indexes, action.payload].forEach(index => {\n        const ceil = { ...ceils[index] }\n        ceil.opening = true\n        ceils[index] = ceil\n      })\n      return {\n        ...state,\n        ceils,\n      }\n    }\n    default:\n      return state\n  }\n}\n\nfunction MineSweeper({\n                       defaultDifficulty,\n                       onClose,\n                       sameTouchPos,\n                       lastTouch,\n                       platform,\n                     }) {\n  const [state, dispatch] = useReducer(\n    reducer,\n    getInitState(defaultDifficulty),\n  )\n  const seconds = useTimer(state.status)\n\n  function changeCeilState(index) {\n    const ceil = state.ceils[index]\n    if (ceil.state === 'open' || ['won', 'died'].includes(state.status)) return\n    dispatch({ type: 'CHANGE_CEIL_STATE', payload: index })\n  }\n\n  function openCeil(index) {\n    switch (state.status) {\n      case 'new':\n        dispatch({ type: 'START_GAME', payload: index })\n        dispatch({ type: 'OPEN_CEIL', payload: index })\n        break\n      case 'started':\n        const ceil = state.ceils[index]\n        if (['flag', 'open'].includes(ceil.state)) {\n          break\n        } else if (ceil.minesAround < 0) {\n          dispatch({ type: 'GAME_OVER', payload: index })\n        } else {\n          dispatch({ type: 'OPEN_CEIL', payload: index })\n        }\n        break\n      default:\n        console.log(state.status)\n    }\n  }\n\n  function openCeils(index) {\n    const ceil = state.ceils[index]\n    if (\n      ceil.state !== 'open' ||\n      ceil.minesAround <= 0 ||\n      state.status !== 'started'\n    )\n      return\n    const indexes = getNearIndexes(index, state.rows, state.columns)\n    const nearCeils = indexes.map(i => state.ceils[i])\n    if (\n      nearCeils.filter(ceil => ceil.state === 'flag').length !==\n      ceil.minesAround\n    )\n      return\n    const mineIndex = indexes.find(\n      i => state.ceils[i].minesAround < 0 && state.ceils[i].state !== 'flag',\n    )\n    if (mineIndex) {\n      dispatch({ type: 'GAME_OVER', payload: mineIndex })\n    } else {\n      indexes.forEach(i => dispatch({ type: 'OPEN_CEIL', payload: i }))\n    }\n  }\n\n  useEffect(() => {\n    if (state.status === 'started' && checkRemains() === 0) {\n      dispatch({ type: 'WON' })\n    }\n  })\n\n  function onReset(difficulty) {\n    dispatch({ type: 'CLEAR_MAP', payload: difficulty })\n  }\n\n  function checkRemains() {\n    const safeCeils = state.ceils\n      .filter(ceil => ceil.state !== 'open')\n      .filter(ceil => ceil.minesAround >= 0)\n    return safeCeils.length\n  }\n\n  function openingCeil(index) {\n    if (['died', 'won'].includes(state.status)) return\n    dispatch({ type: 'OPENING_CEIL', payload: index })\n  }\n\n  function openingCeils(index) {\n    if (['died', 'won'].includes(state.status)) return\n    dispatch({ type: 'OPENING_CEILS', payload: index })\n  }\n\n  function editCeil(index, flag) {\n    dispatch({ type: 'EDIT_CEIL', payload: { index, flag } })\n  }\n\n  return (\n    <MinesweeperView\n      {...state}\n      onClose={onClose}\n      changeCeilState={changeCeilState}\n      openCeil={openCeil}\n      openCeils={openCeils}\n      editCeil={editCeil}\n      onReset={onReset}\n      seconds={seconds}\n      openingCeil={openingCeil}\n      openingCeils={openingCeils}\n      sameTouchPos={sameTouchPos}\n      lastTouch={lastTouch}\n      platform={platform}\n    />\n  )\n}\n\nfunction genGameConfig(config) {\n  const { rows, columns, mines } = config\n  const ceils = Array(rows * columns)\n    .fill()\n    .map(_ => ({\n      state: 'cover',\n      minesAround: 0,\n      opening: false,\n    }))\n  return {\n    rows,\n    columns,\n    ceils,\n    mines,\n  }\n}\n\nfunction insertMines(config, originCeils) {\n  console.log('start')\n  if (window.location.hash === '') {\n    const { rows, columns, mines, exclude } = config\n    const ceils = originCeils.map(ceil => ({ ...ceil }))\n    if (rows * columns !== ceils.length)\n      throw new Error('rows and columns not equal to ceils')\n    const indexArray = [...Array(rows * columns).keys()]\n    sampleSize(indexArray.filter(i => i !== exclude), mines).forEach(chosen => {\n      ceils[chosen].minesAround = -10\n      getNearIndexes(chosen, rows, columns).forEach(nearIndex => {\n        ceils[nearIndex].minesAround += 1\n      })\n    })\n    return {\n      rows,\n      columns,\n      ceils,\n      mines,\n    }\n  } else {\n    return deserialize(window.location.hash.replace('#', ''))\n  }\n}\n\nfunction autoCeils(state, index) {\n  const { rows, columns } = state\n  const ceils = state.ceils.map(ceil => ({\n    ...ceil,\n    walked: false,\n  }))\n  return walkCeils(index)\n\n  function walkCeils(index) {\n    const ceil = ceils[index]\n    if (ceil.walked || ceil.minesAround < 0 || ceil.state === 'flag') return []\n    ceil.walked = true\n    if (ceil.minesAround > 0) return [index]\n    return [\n      index,\n      ...getNearIndexes(index, rows, columns).reduce(\n        (lastIndexes, ceilIndex) => {\n          return [...lastIndexes, ...walkCeils(ceilIndex)]\n        },\n        [],\n      ),\n    ]\n  }\n}\n\nfunction useTimer(status) {\n  const [seconds, setSeconds] = useState(0)\n\n  function addSecond() {\n    setSeconds(sec => sec + 1)\n  }\n\n  useEffect(() => {\n    let timer\n    switch (status) {\n      case 'started':\n        timer = setInterval(addSecond, 1000)\n        break\n      case 'new':\n        setSeconds(0)\n        break\n      default:\n        break\n    }\n    return () => clearInterval(timer)\n  }, [status])\n  return seconds\n}\n\nexport default MineSweeper\n","import React from 'react';\nimport Minesweeper from './Minesweeper';\n\nfunction App() {\n  const [platform, setPlatform] = React.useState(\n    window.innerWidth <= 768 ? 'mobile' : 'desktop',\n  );\n  const [lastTouch, setLastTouch] = React.useState(new Date());\n  const [samePos, setSamePos] = React.useState(false);\n  React.useEffect(() => {\n    function onResize() {\n      if (window.innerWidth <= 768) {\n        setPlatform('mobile');\n      } else {\n        setPlatform('desktop');\n      }\n    }\n    window.addEventListener('resize', onResize);\n    return () => window.removeEventListener('resize', onResize);\n  }, []);\n  React.useEffect(() => {\n    function touchStart() {\n      setSamePos(true);\n      setLastTouch(new Date());\n    }\n    function touchMove() {\n      setSamePos(false);\n    }\n    window.addEventListener('touchstart', touchStart);\n    window.addEventListener('touchmove', touchMove);\n    return () => {\n      window.removeEventListener('touchstart', touchStart);\n      window.removeEventListener('touchmove', touchMove);\n    };\n  }, []);\n  return (\n    <div\n      style={\n        platform === 'desktop'\n          ? {\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              height: '100%',\n            }\n          : {\n              display: 'flex',\n              justifyContent: 'flex-start',\n              alignItems: 'flex-start',\n              height: '100%',\n            }\n      }\n    >\n      <div\n        style={\n          platform === 'desktop'\n            ? {\n                display: 'inline-block',\n              }\n            : {\n                transform: 'scale(1.8)',\n                transformOrigin: 'left top',\n                display: 'inline-block',\n              }\n        }\n      >\n        <Minesweeper\n          defaultDifficulty={window.location.hash === '' ? 'Beginner' : 'Expert'}\n          sameTouchPos={samePos}\n          lastTouch={lastTouch}\n          platform={platform}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}